import{o as m,w as n,g as p,x as g,q as s,y as j,l as S,V as f}from"./index-CuA4JgOx.js";import{a as v,b as C,p as u,r as c,R as y,F as E,C as M,u as R,c as w,P as z,M as l,S as P,o as b}from"./react-icons.esm-C-MuUwd6.js";import{l as F,r as A}from"./logo-Bc_ZJrUt.js";const V=function(){const d=m(),h=n.useNavigate(),x=n.useSearch(),[r,a]=p.useState({usuario:""}),o=g({mutationFn:e=>j(e),onSuccess:async()=>{await d.invalidate(),await h({to:x.redirect||"/"}),f.success("SMS enviado com sucesso!")},onError:e=>{var i;S.isAxiosError(e)&&((i=e.response)==null?void 0:i.status)===404&&a({usuario:e.response.data.message})}});return s.jsx(v,{size:"2",py:"5",mx:"2",children:s.jsx(C,{variant:"surface",children:s.jsxs(u,{py:"4",px:"3",direction:"column",gap:"4",children:[s.jsx(c,{align:"center",size:"5",children:"Assistencia Jurídica"}),s.jsx(c,{align:"center",size:"4",as:"h2",children:"AOPMBM"}),s.jsx("img",{src:F,alt:"logo",width:128,height:128,style:{margin:"auto"}}),s.jsx(A,{size:"1",children:s.jsx(y,{onClearServerErrors:()=>a({usuario:""}),onSubmit:async e=>{e.preventDefault();const t=new FormData(e.currentTarget).get("usuario");t&&o.mutate({usuario:t.toString()})},children:s.jsxs(u,{direction:"column",gap:"4",children:[s.jsxs(E,{name:"usuario",serverInvalid:!!r.usuario,children:[s.jsx(M,{asChild:!0,required:!0,onChange:()=>a(e=>({...e,senha:""})),children:s.jsx(R,{size:"3",placeholder:"Usuário",autoComplete:"off",children:s.jsx(w,{color:"red",children:s.jsx(z,{height:"16",width:"16"})})})}),s.jsx(l,{match:"valueMissing",children:"Por favor, digite seu usuário"}),r.usuario&&s.jsx(l,{children:r.usuario})]}),s.jsx(P,{asChild:!0,children:s.jsx(b,{size:"3",radius:"full",type:"submit",loading:o.isPending,children:"Recuperar"})})]})})})]})})})};export{V as component};
