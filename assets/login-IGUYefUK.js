import{g as n,q as e,o as te,z as xe,A as J,B as ye,C as je,D as Se,E as V,F as Ce,G,H as Ee,I as Pe,J as Te,m as ke,K as W}from"./index-CuA4JgOx.js";import{d as we,s as be,e as Le,f as ze,g as Re,t as Me,h as Ie,v as _e,a as De,b as Ne,p as Q,r as X,R as $e,F as Y,C as Z,u as ee,c as N,P as Fe,M as $,L as qe,i as Ae,j as Be,S as Ue,o as He}from"./react-icons.esm-C-MuUwd6.js";import{l as Ke,r as Oe}from"./logo-Bc_ZJrUt.js";import{p as Je,o as Ve}from"./icon-button-BoudOnOS.js";const Ge="Error preloading route! ☝️";function We(r,h){const s=te(),[i,m]=n.useState(!1),d=n.useRef(!1),l=xe(h),{activeProps:f=()=>({className:"active"}),inactiveProps:v=()=>({}),activeOptions:o,to:c,preload:p,preloadDelay:E,hashScrollIntoView:P,replace:ae,startTransition:re,resetScroll:ne,viewTransition:oe,children:F,target:j,disabled:u,style:T,className:k,onClick:w,onFocus:b,onMouseEnter:L,onMouseLeave:z,onTouchStart:R,ignoreBlocker:ie,...le}=r,{params:at,search:rt,hash:nt,state:ot,mask:it,reloadDocument:lt,...q}=le,A=n.useMemo(()=>{try{return new URL(`${c}`),"external"}catch{}return"internal"},[c]),ce=J({select:t=>t.location.search,structuralSharing:!0}),B=ye({select:t=>{var a;return r.from??((a=t[t.length-1])==null?void 0:a.fullPath)}}),g=n.useMemo(()=>({...r,from:B}),[r,B]),x=n.useMemo(()=>s.buildLocation(g),[s,g,ce]),S=n.useMemo(()=>g.reloadDocument?!1:p??s.options.defaultPreload,[s.options.defaultPreload,p,g.reloadDocument]),ue=E??s.options.defaultPreloadDelay??0,M=J({select:t=>{if(o!=null&&o.exact){if(!Ce(t.location.pathname,x.pathname,s.basepath))return!1}else{const a=G(t.location.pathname,s.basepath).split("/");if(!G(x.pathname,s.basepath).split("/").every((ve,ge)=>ve===a[ge]))return!1}return((o==null?void 0:o.includeSearch)??!0)&&!Ee(t.location.search,x.search,{partial:!(o!=null&&o.exact),ignoreUndefined:!(o!=null&&o.explicitUndefined)})?!1:o!=null&&o.includeHash?t.location.hash===x.hash:!0}}),y=n.useCallback(()=>{s.preloadRoute(g).catch(t=>{console.warn(t),console.warn(Ge)})},[g,s]),de=n.useCallback(t=>{t!=null&&t.isIntersecting&&y()},[y]);if(je(l,de,{rootMargin:"100px"},{disabled:!!u||S!=="viewport"}),Se(()=>{d.current||!u&&S==="render"&&(y(),d.current=!0)},[u,y,S]),A==="external")return{...q,ref:l,type:A,href:c,...F&&{children:F},...j&&{target:j},...u&&{disabled:u},...T&&{style:T},...k&&{className:k},...w&&{onClick:w},...b&&{onFocus:b},...L&&{onMouseEnter:L},...z&&{onMouseLeave:z},...R&&{onTouchStart:R}};const he=t=>{if(!u&&!Ye(t)&&!t.defaultPrevented&&(!j||j==="_self")&&t.button===0){t.preventDefault(),Pe.flushSync(()=>{m(!0)});const a=s.subscribe("onResolved",()=>{a(),m(!1)});return s.navigate({...g,replace:ae,resetScroll:ne,hashScrollIntoView:P,startTransition:re,viewTransition:oe,ignoreBlocker:ie})}},U=t=>{u||S&&y()},fe=U,pe=t=>{if(u)return;const a=t.target||{};if(S){if(a.preloadTimeout)return;a.preloadTimeout=setTimeout(()=>{a.preloadTimeout=null,y()},ue)}},me=t=>{if(u)return;const a=t.target||{};a.preloadTimeout&&(clearTimeout(a.preloadTimeout),a.preloadTimeout=null)},C=t=>a=>{var D;(D=a.persist)==null||D.call(a),t.filter(Boolean).forEach(O=>{a.defaultPrevented||O(a)})},I=M?V(f,{})??{}:{},_=M?{}:V(v,{}),H=[k,I.className,_.className].filter(Boolean).join(" "),K={...T,...I.style,..._.style};return{...q,...I,..._,href:u?void 0:x.maskedLocation?s.history.createHref(x.maskedLocation.href):s.history.createHref(x.href),ref:l,onClick:C([w,he]),onFocus:C([b,U]),onMouseEnter:C([L,pe]),onMouseLeave:C([z,me]),onTouchStart:C([R,fe]),disabled:!!u,target:j,...Object.keys(K).length&&{style:K},...H&&{className:H},...u&&{role:"link","aria-disabled":!0},...M&&{"data-status":"active","aria-current":"page"},...i&&{"data-transitioning":"transitioning"}}}function Qe(r){return n.forwardRef(function(s,i){return e.jsx(Xe,{...s,_asChild:r,ref:i})})}const Xe=n.forwardRef((r,h)=>{const{_asChild:s,...i}=r,{type:m,ref:d,...l}=We(i,h),f=typeof i.children=="function"?i.children({isActive:l["data-status"]==="active"}):i.children;return typeof s>"u"&&delete l.disabled,n.createElement(s||"a",{...l,ref:d},f)});function Ye(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}const Ze=["1","2","3","4","5","6","7","8","9"],et=["auto","always","hover","none"],tt={...Ie,size:{type:"enum",className:"rt-r-size",values:Ze,responsive:!0},...Me,...Re,...ze,...Le,underline:{type:"enum",className:"rt-underline",values:et,default:"auto"},...be,...we},se=n.forwardRef((r,h)=>{const{children:s,className:i,color:m,asChild:d,...l}=_e(r,tt);return n.createElement(Je,{...l,"data-accent-color":m,ref:h,asChild:!0,className:Te("rt-reset","rt-Link",i)},d?s:n.createElement("a",null,s))});se.displayName="Link";const st=Qe(se),ft=function(){const h=ke(),s=te(),i=W.useNavigate(),m=W.useSearch(),[d,l]=n.useState("password"),[f,v]=n.useState({senha:""}),o=h.login({onSuccess:async()=>{await s.invalidate(),await i({to:m.redirect||"/"})},onError:c=>{var p;((p=c.response)==null?void 0:p.status)==401?v({senha:"Usuário ou senha inválidos."}):v({senha:"Erro ao fazer o login."})}});return e.jsx(De,{size:"2",py:"5",mx:"2",children:e.jsx(Ne,{variant:"surface",children:e.jsxs(Q,{py:"4",px:"3",direction:"column",gap:"4",children:[e.jsx(X,{align:"center",size:"5",children:"Assistencia Jurídica"}),e.jsx(X,{align:"center",size:"4",as:"h2",children:"AOPMBM"}),e.jsx("img",{src:Ke,alt:"logo",width:128,height:128,style:{margin:"auto"}}),e.jsx(Oe,{size:"1",children:e.jsx($e,{onClearServerErrors:()=>v({senha:""}),onSubmit:async c=>{c.preventDefault();const p=new FormData(c.currentTarget),E=p.get("usuario"),P=p.get("senha");!E||!P||o.mutate({usuario:E.toString(),senha:P.toString()})},children:e.jsxs(Q,{direction:"column",gap:"4",children:[e.jsxs(Y,{name:"usuario",serverInvalid:!!f.senha,children:[e.jsx(Z,{asChild:!0,required:!0,onChange:()=>v(c=>({...c,senha:""})),children:e.jsx(ee,{size:"3",placeholder:"Usuário",autoComplete:"off",children:e.jsx(N,{color:"red",children:e.jsx(Fe,{height:"16",width:"16"})})})}),e.jsx($,{match:"valueMissing",children:"Por favor, digite seu usuário"})]}),e.jsxs(Y,{name:"senha",serverInvalid:!!f.senha,children:[e.jsx(Z,{asChild:!0,required:!0,onChange:()=>v(c=>({...c,senha:""})),children:e.jsxs(ee,{type:d,size:"3",placeholder:"Senha",name:"senha",autoComplete:"off",children:[e.jsx(N,{color:"red",children:e.jsx(qe,{height:"16",width:"16"})}),e.jsx(N,{children:e.jsx(Ve,{size:"1",variant:"ghost",children:d=="password"?e.jsx(Ae,{height:"16",width:"16",onClick:()=>l("text")}):e.jsx(Be,{height:"16",width:"16",onClick:()=>l("password")})})})]})}),e.jsx($,{match:"valueMissing",children:"Por favor, digite sua senha"}),f.senha&&e.jsx($,{children:f.senha})]}),e.jsx(st,{size:"2",to:"/auth/recuperar",style:{marginLeft:"auto",marginTop:"-8px",marginBottom:"12px"},children:"Esqueci minha senha"}),e.jsx(Ue,{asChild:!0,children:e.jsx(He,{size:"3",radius:"full",type:"submit",loading:o.isPending,children:"Entrar"})})]})})})]})})})};export{ft as component};
