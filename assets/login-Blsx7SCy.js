import{g as n,z as S,m as $,o as N,A as f,q as e}from"./index-xZ63f2Px.js";import{d as I,s as L,e as M,f as P,g as R,t as k,h as b,v as q,a as A,b as F,p as v,r as y,R as T,F as C,C as w,u as z,c as d,P as B,M as m,L as D,i as O,j as U,S as J,o as G}from"./react-icons.esm-GOm5TvL2.js";import{l as H,r as K}from"./logo-83vU5AwX.js";import{p as Q,o as V}from"./icon-button-n95egeu7.js";const W=["1","2","3","4","5","6","7","8","9"],X=["auto","always","hover","none"],Y={...b,size:{type:"enum",className:"rt-r-size",values:W,responsive:!0},...k,...R,...P,...M,underline:{type:"enum",className:"rt-underline",values:X,default:"auto"},...L,...I},E=n.forwardRef((p,l)=>{const{children:t,className:h,color:u,asChild:i,...o}=q(p,Y);return n.createElement(Q,{...o,"data-accent-color":u,ref:l,asChild:!0,className:S("rt-reset","rt-Link",h)},i?t:n.createElement("a",null,t))});E.displayName="Link";const re=function(){const l=$(),t=N(),h=f.useNavigate(),u=f.useSearch(),[i,o]=n.useState("password"),[c,r]=n.useState({senha:""}),g=l.login({onSuccess:async()=>{await t.invalidate(),await h({to:u.redirect||"/"})},onError:s=>{var a;((a=s.response)==null?void 0:a.status)==401?r({senha:"Usuário ou senha inválidos"}):r({senha:"Erro ao fazer o login"})}});return e.jsx(A,{size:"2",py:"5",mx:"2",children:e.jsx(F,{variant:"surface",children:e.jsxs(v,{py:"4",px:"3",direction:"column",gap:"4",children:[e.jsx(y,{align:"center",size:"5",children:"Assistencia Jurídica"}),e.jsx(y,{align:"center",size:"4",as:"h2",children:"AOPMBM"}),e.jsx("img",{src:H,alt:"logo",width:128,height:128,style:{margin:"auto"}}),e.jsx(K,{size:"1",children:e.jsx(T,{onClearServerErrors:()=>r({senha:""}),onSubmit:async s=>{s.preventDefault();const a=new FormData(s.currentTarget),x=a.get("usuario"),j=a.get("senha");!x||!j||g.mutate({usuario:x.toString(),senha:j.toString()})},children:e.jsxs(v,{direction:"column",gap:"4",children:[e.jsxs(C,{name:"usuario",serverInvalid:!!c.senha,children:[e.jsx(w,{asChild:!0,required:!0,onChange:()=>r(s=>({...s,senha:""})),children:e.jsx(z,{size:"3",placeholder:"Usuário",autoComplete:"off",children:e.jsx(d,{color:"red",children:e.jsx(B,{height:"16",width:"16"})})})}),e.jsx(m,{match:"valueMissing",children:"Por favor, digite seu usuário"})]}),e.jsxs(C,{name:"senha",serverInvalid:!!c.senha,children:[e.jsx(w,{asChild:!0,required:!0,onChange:()=>r(s=>({...s,senha:""})),children:e.jsxs(z,{type:i,size:"3",placeholder:"Senha",name:"senha",autoComplete:"off",children:[e.jsx(d,{color:"red",children:e.jsx(D,{height:"16",width:"16"})}),e.jsx(d,{children:e.jsx(V,{size:"1",variant:"ghost",children:i=="password"?e.jsx(O,{height:"16",width:"16",onClick:()=>o("text")}):e.jsx(U,{height:"16",width:"16",onClick:()=>o("password")})})})]})}),e.jsx(m,{match:"valueMissing",children:"Por favor, digite sua senha"}),c.senha&&e.jsx(m,{children:c.senha})]}),e.jsx(E,{size:"2",href:"/auth/recuperar",style:{marginLeft:"auto",marginTop:"-8px",marginBottom:"12px"},children:"Esqueci minha senha"}),e.jsx(J,{asChild:!0,children:e.jsx(G,{size:"3",radius:"full",type:"submit",loading:g.isPending,children:"Entrar"})})]})})})]})})})};export{re as component};
