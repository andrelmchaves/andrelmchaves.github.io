import{g as r,y as S,w as k,m as P,o as I,x as f,q as e}from"./index-CuLbYOki.js";import{f as L,s as M,g as b,h as q,i as A,t as F,j as z,v as E,b as T,k as B,l as D,a as O,e as U,p as v,r as y,R as G,F as $,C,u as w,c as m,P as J,M as p,L as V,o as H,m as K,n as Q,S as W,d as X}from"./react-icons.esm-uC-PdG-Y.js";const Y=["1","2","3","4","5","6","7","8","9"],Z=["auto","always","hover","none"],_={...z,size:{type:"enum",className:"rt-r-size",values:Y,responsive:!0},...F,...A,...q,...b,underline:{type:"enum",className:"rt-underline",values:Z,default:"auto"},...M,...L},N=r.forwardRef((a,i)=>{const{children:n,className:o,color:l,asChild:t,...h}=E(a,_);return r.createElement(T,{...h,"data-accent-color":l,ref:i,asChild:!0,className:S("rt-reset","rt-Link",o)},t?n:r.createElement("a",null,n))});N.displayName="Link";const ee=["1","2","3","4"],se=["none","initial"],ae={...z,size:{type:"enum",className:"rt-r-size",values:ee,default:"3",responsive:!0},display:{type:"enum",className:"rt-r-display",values:se,parseValue:re,responsive:!0}};function re(a){return a==="initial"?"block":a}const R=r.forwardRef((a,i)=>{const{asChild:n,className:o,...l}=E(a,ae,D,B),t=n?k:"section";return r.createElement(t,{...l,ref:i,className:S("rt-Section",o)})});R.displayName="Section";const ne="/assets/logo-N-2ncPdG.png",oe=function(){const i=P(),n=I(),o=f.useNavigate(),l=f.useSearch(),[t,h]=r.useState("password"),[d,c]=r.useState({senha:""}),g=i.login({onSuccess:async()=>{await n.invalidate(),await o({to:l.redirect||"/"})},onError:s=>{var u;((u=s.response)==null?void 0:u.status)==401?c({senha:"Usuário ou senha inválidos"}):c({senha:"Erro ao fazer o login"})}});return e.jsx(O,{size:"2",py:"5",mx:"2",children:e.jsx(U,{variant:"surface",children:e.jsxs(v,{py:"4",px:"3",direction:"column",gap:"4",children:[e.jsx(y,{align:"center",size:"5",children:"Assistencia Jurídica"}),e.jsx(y,{align:"center",size:"4",as:"h2",children:"AOPMBM"}),e.jsx("img",{src:ne,alt:"logo",width:128,height:128,style:{margin:"auto"}}),e.jsx(R,{size:"1",children:e.jsx(G,{onClearServerErrors:()=>c({senha:""}),onSubmit:async s=>{s.preventDefault();const u=new FormData(s.currentTarget),x=u.get("usuario"),j=u.get("senha");!x||!j||g.mutate({usuario:x.toString(),senha:j.toString()})},children:e.jsxs(v,{direction:"column",gap:"4",children:[e.jsxs($,{name:"usuario",serverInvalid:!!d.senha,children:[e.jsx(C,{asChild:!0,required:!0,onChange:()=>c(s=>({...s,senha:""})),children:e.jsx(w,{size:"3",placeholder:"Usuário",autoComplete:"off",children:e.jsx(m,{color:"red",children:e.jsx(J,{height:"16",width:"16"})})})}),e.jsx(p,{match:"valueMissing",children:"Por favor, digite seu usuário"})]}),e.jsxs($,{name:"senha",serverInvalid:!!d.senha,children:[e.jsx(C,{asChild:!0,required:!0,onChange:()=>c(s=>({...s,senha:""})),children:e.jsxs(w,{type:t,size:"3",placeholder:"Senha",name:"senha",autoComplete:"off",children:[e.jsx(m,{color:"red",children:e.jsx(V,{height:"16",width:"16"})}),e.jsx(m,{children:e.jsx(H,{size:"1",variant:"ghost",children:t=="password"?e.jsx(K,{height:"16",width:"16",onClick:()=>h("text")}):e.jsx(Q,{height:"16",width:"16",onClick:()=>h("password")})})})]})}),e.jsx(p,{match:"valueMissing",children:"Por favor, digite sua senha"}),d.senha&&e.jsx(p,{children:d.senha})]}),e.jsx(N,{size:"2",href:"",style:{marginLeft:"auto",marginTop:"-8px",marginBottom:"12px"},children:"Esqueci minha senha"}),e.jsx(W,{asChild:!0,children:e.jsx(X,{size:"3",radius:"full",type:"submit",loading:g.isPending,children:"Entrar"})})]})})})]})})})};export{oe as component};
